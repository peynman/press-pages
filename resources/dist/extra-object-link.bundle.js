(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{1014:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this;var a=e.$createElement;var t=e._self._c||a;return t("v-card",{staticClass:"ma-1",attrs:{flat:"","background-color":"grey lighten-2"}},[e.field.label?t("v-system-bar",{attrs:{dark:"",color:"primary"}},[e._v(e._s(e.field.label))]):e._e(),e._v(" "),Object.keys(e.field.links).length==0?t("span",{staticClass:"caption"},[e._v("امکانات بیشتری برای این رکورد موجود نیست")]):e._e(),e._v(" "),Object.keys(e.field.links).length>0?t("v-tabs",{attrs:{optional:"",dense:"","icons-and-text":"",centered:"","background-color":"grey lighten-2"},model:{value:e.selected,callback:function(a){e.selected=a},expression:"selected"}},[t("v-tabs-slider"),e._v(" "),e._l(e.field.links,(function(a){return t("v-tab",{key:e.id+"-link-"+a.id,staticClass:"no-letter-spacing",attrs:{href:"#"+e.id+"-link-"+a.id}},[t("span",{staticClass:"caption"},[e._v(e._s(a.title))]),e._v(" "),t("v-icon",[e._v(e._s(a.icon))])],1)})),e._v(" "),e._l(e.field.links,(function(a){return t("v-tab-item",{key:e.id+"-link-content-"+a.id,attrs:{id:e.id+"-link-"+a.id}},[t("v-card",{attrs:{flat:""}},[t("v-card-text",{staticClass:"ma-1 pa-0",attrs:{"background-color":"white"}},[t("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:a.loading,expression:"link.loading"}],attrs:{color:"primary",indeterminate:""}}),e._v(" "),t("vf-fields-renderer",{attrs:{id:e.id+"-links-"+a.id,fields:a.fields,options:a.options,value:a.devalue},model:{value:a.devalue,callback:function(t){e.$set(a,"devalue",t)},expression:"link.devalue"}})],1)],1)],1)}))],2):e._e()],1)};var s=[];var i=t(431);var l=t(69);var n=t(61);var d=t(113);var o=t(53);var c=t(449);var v=t(124);var f=t(43);var u=t(167);var h=t.n(u);var p={mixins:[v["b"],f["a"]],components:{VDialog:i["a"],VBtn:l["a"],VIcon:n["a"],VCard:d["a"],VCardText:o["b"],VContainer:c["a"]},name:"object-links-card",props:{id:String,field:Object},data:function e(a){return{selected:-1}},methods:{getFormFromURL:function e(a){var t=this;if(a.url){console.log(a);var r=function e(r){t.UpdatePageContent(r.body,r.options,r.sources);if(!t.$store.state.datatable_pages){t.$store.state.datatable_pages={}}t.$store.state.datatable_pages[a.url]=h()(r);if(t.formSchema.fields["crud-datatable"]){t.formSchema.fields["crud-datatable"]["hide-search"]=true;t.formSchema.fields["crud-datatable"]["hide-create"]=true;t.formSchema.fields["crud-datatable"]["hide-settings"]=true;t.formSchema.fields["crud-datatable"]["hide-reports"]=true;t.formSchema.fields["crud-datatable"]["default-filters"]=a.filters}t.$nextTick((function(){a.loading=false;a.fields=t.formSchema.fields;a.options=t.formSchema.options;a.loaded=true;t.formModel=a.devalue;t.$forceUpdate()}))};if(this.$store.state.datatable_pages&&this.$store.state.datatable_pages[a.url]){r(h()(this.$store.state.datatable_pages[a.url]))}else{a.loading=true;var s=this.$store.state.host;s.webRequest({method:"GET",url:a.url,headers:s.getWebAuthHeaders({Accept:"application/json","Content-Type":"application/json"})}).then((function(e){r(h()(e.data))}))["catch"]((function(e){s.showSnack(e.message);a.loading=false}))}}}},watch:{selected:function e(){if(this.selected){var a=-1;var t=null;var r=0;for(var s in this.field.links){var i=this.field.links[s];if(i&&i.id){if(this.selected.endsWith(i.id)){a=r;t=i.id}}r++}if(a>=0){this.getFormFromURL(this.field.links[t])}}}}};var b=p;var m=t(27);var g=t(28);var k=t.n(g);var _=t(112);var V=t(432);var w=t(433);var y=t(434);var C=t(446);var S=t(158);var $=Object(m["a"])(b,r,s,false,null,null,null);var x=a["default"]=$.exports;k()($,{VCard:d["a"],VCardText:o["b"],VIcon:n["a"],VProgressLinear:_["a"],VSystemBar:V["a"],VTab:w["a"],VTabItem:y["a"],VTabs:C["a"],VTabsSlider:S["a"]})}}]);