(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{gyyD:function(e,t,a){"use strict";a.r(t);var s=a("FpqX"),i=a("gzZi"),l=a("Ey0z"),n=a("sK+t"),r=a("mdmw"),d=a("pSOK"),o=a("I1Ao"),c=a("xlum"),f=a("zT9C"),u=a.n(f),m={mixins:[o.b,c.a],components:{VDialog:s.a,VBtn:i.a,VIcon:l.a,VCard:n.a,VCardText:r.b,VContainer:d.a},name:"object-links-card",props:{id:String,field:Object},data:function(e){return{selected:-1}},methods:{getFormFromURL:function(e){var t=this;if(e.url){console.log(e);var a=function(a){t.UpdatePageContent(a.body,a.options,a.sources),t.$store.state.datatable_pages||(t.$store.state.datatable_pages={}),t.$store.state.datatable_pages[e.url]=u()(a),t.formSchema.fields["crud-datatable"]&&(t.formSchema.fields["crud-datatable"]["hide-search"]=!0,t.formSchema.fields["crud-datatable"]["hide-create"]=!0,t.formSchema.fields["crud-datatable"]["hide-settings"]=!0,t.formSchema.fields["crud-datatable"]["hide-reports"]=!0,t.formSchema.fields["crud-datatable"]["default-filters"]=e.filters),t.$nextTick((function(){e.loading=!1,e.fields=t.formSchema.fields,e.options=t.formSchema.options,e.loaded=!0,t.formModel=e.devalue,t.$forceUpdate()}))};if(this.$store.state.datatable_pages&&this.$store.state.datatable_pages[e.url])a(u()(this.$store.state.datatable_pages[e.url]));else{e.loading=!0;var s=this.$store.state.host;s.webRequest({method:"GET",url:e.url,headers:s.getWebAuthHeaders({Accept:"application/json","Content-Type":"application/json"})}).then((function(e){a(u()(e.data))})).catch((function(t){s.showSnack(t.message),e.loading=!1}))}}}},watch:{selected:function(){if(this.selected){var e=-1,t=null,a=0;for(var s in this.field.links){var i=this.field.links[s];i&&i.id&&this.selected.endsWith(i.id)&&(e=a,t=i.id),a++}e>=0&&this.getFormFromURL(this.field.links[t])}}}},p=a("KHd+"),h=a("ZUTo"),b=a.n(h),v=a("jjY0"),g=a("r9mn"),k=a("caNO"),_=a("xnG4"),y=a("/ldL"),V=a("mpaI"),w=Object(p.a)(m,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"ma-1",attrs:{flat:"","background-color":"grey lighten-2"}},[e.field.label?a("v-system-bar",{attrs:{dark:"",color:"primary"}},[e._v(e._s(e.field.label))]):e._e(),e._v(" "),0==Object.keys(e.field.links).length?a("span",{staticClass:"caption"},[e._v("امکانات بیشتری برای این رکورد موجود نیست")]):e._e(),e._v(" "),Object.keys(e.field.links).length>0?a("v-tabs",{attrs:{optional:"",dense:"","icons-and-text":"",centered:"","background-color":"grey lighten-2"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[a("v-tabs-slider"),e._v(" "),e._l(e.field.links,(function(t){return a("v-tab",{key:e.id+"-link-"+t.id,staticClass:"no-letter-spacing",attrs:{href:"#"+e.id+"-link-"+t.id}},[a("span",{staticClass:"caption"},[e._v(e._s(t.title))]),e._v(" "),a("v-icon",[e._v(e._s(t.icon))])],1)})),e._v(" "),e._l(e.field.links,(function(t){return a("v-tab-item",{key:e.id+"-link-content-"+t.id,attrs:{id:e.id+"-link-"+t.id}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",{staticClass:"ma-1 pa-0",attrs:{"background-color":"white"}},[a("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"link.loading"}],attrs:{color:"primary",indeterminate:""}}),e._v(" "),a("vf-fields-renderer",{attrs:{id:e.id+"-links-"+t.id,fields:t.fields,options:t.options,value:t.devalue},model:{value:t.devalue,callback:function(a){e.$set(t,"devalue",a)},expression:"link.devalue"}})],1)],1)],1)}))],2):e._e()],1)}),[],!1,null,null,null);t.default=w.exports;b()(w,{VCard:n.a,VCardText:r.b,VIcon:l.a,VProgressLinear:v.a,VSystemBar:g.a,VTab:k.a,VTabItem:_.a,VTabs:y.a,VTabsSlider:V.a})}}]);
//# sourceMappingURL=extra-object-link.bundle.js.map