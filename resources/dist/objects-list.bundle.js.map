{"version":3,"sources":["webpack:///./resources/js/Lib/vuetify-formjson/Fields/ObjectsListInput.vue?092c","webpack:///resources/js/Lib/vuetify-formjson/Fields/ObjectsListInput.vue","webpack:///./resources/js/Lib/vuetify-formjson/Fields/ObjectsListInput.vue?be1c","webpack:///./resources/js/Lib/vuetify-formjson/Fields/ObjectsListInput.vue"],"names":["components","VCheckbox","mixins","name","props","id","String","field","Object","value","type","Array","default","data","checkedIds","this","getCheckedIds","methods","getProps","getEvents","onChanged","objects","isArray","values","push","o","devalue","forEach","watch","$emit","component","_vm","_h","$createElement","_c","_self","class","error","_v","_s","label","staticClass","_l","item","_g","_b","key","decorator","attrs","getDecorableLabel","on","model","callback","$$v","$set","expression","err","index","_e"],"mappings":"mGAAA,I,o7BC6BA,IC7B4N,ED6B5N,CACEA,WAAY,CACVC,UAAJ,KAEEC,OAAQ,CAAC,EAAX,OACEC,KAAM,wBACNC,MAAO,CACLC,GAAIC,OACJC,MAAOC,OACPC,MAAO,CACLC,KAAM,CAACF,OAAQG,OACfC,QAAN,uBAGEC,KAdF,WAeI,MAAO,CACLC,WAAYC,KAAKC,kBAGrBC,QAAS,CACPC,SAAU,SAAd,GACM,OAAO,EAAb,GACA,qBAGIC,UAAW,SAAf,GACM,OAAO,EAAb,GACA,8CAGIC,UAXJ,WAWA,IAEA,EAFA,OACA,kCACUL,KAAKR,MAAMc,UACrB,kEAMA,MALc,EAAd,gCACgBV,MAAMW,QAAQC,GAChBA,EAAOC,KAAK,EAA1B,GACA,mCAGcD,EAAOE,EAAE,EAAvB,uBACA,kCADA,IAEA,0CAFA,QAQMV,KAAKW,QAAUH,GAEjBP,cA/BJ,WAgCM,IAAN,KAMM,GALN,oBACQD,KAAKR,MAAMc,QAAQM,SAAQ,SAAnC,GACU,EAAV,YAGA,WACQ,GAAR,0BACU,KAAV,2BACY,EAAZ,iBAGU,IAAV,qBACY,IAAZ,gBACA,gBACc,EAAd,SAEc,EAAd,KAKM,OAAN,IAGEC,MAAO,CACLF,QAAS,WACPX,KAAKc,MAAM,QAASd,KAAKW,UAE3BjB,MAJJ,WAKM,KAAN,mC,iCEvGIqB,EAAY,YACd,GHRW,WAAa,IAAIC,EAAIhB,KAASiB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAO,gCAAkCL,EAAIxB,MAAM6B,MAAQL,EAAIxB,MAAM6B,MAAM,KAAM,CAACF,EAAG,QAAQ,CAACE,MAAML,EAAIxB,MAAMH,OAAS2B,EAAIxB,MAAMH,MAAMiC,MAAQ,YAAY,IAAI,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIxB,MAAMiC,UAAUT,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACO,YAAY,YAAYV,EAAIW,GAAIX,EAAIxB,MAAa,SAAE,SAASoC,GAAM,OAAOT,EAAG,aAAaH,EAAIa,GAAGb,EAAIc,GAAG,CAACC,IAAKf,EAAI1B,GAAK,aAAgBsC,EAAKZ,EAAIgB,UAAU1C,IAAM+B,MAAO,mBAAqBL,EAAIxB,MAAMH,OAAS2B,EAAIxB,MAAMH,MAAMgC,MAAQL,EAAIxB,MAAMH,MAAMgC,MAAM,MAAOY,MAAM,CAAC,MAAQjB,EAAIkB,kBAAkBN,IAAOO,GAAG,CAAC,OAASnB,EAAIX,WAAW+B,MAAM,CAAC1C,MAAOsB,EAAIjB,WAAW6B,EAAKZ,EAAIgB,UAAU1C,KAAM+C,SAAS,SAAUC,GAAMtB,EAAIuB,KAAKvB,EAAIjB,WAAY6B,EAAKZ,EAAIgB,UAAU1C,IAAKgD,IAAME,WAAW,mCAAmC,aAAaxB,EAAIb,SAASyB,IAAM,GAAOZ,EAAIZ,UAAUwB,QAAU,GAAGZ,EAAIO,GAAG,KAAMP,EAAIxB,MAAMH,OAAS2B,EAAIxB,MAAMH,MAAMiC,MAAOH,EAAG,MAAM,CAACO,YAAY,sBAAsBV,EAAIW,GAAIX,EAAIxB,MAAMH,MAAM,mBAAmB,SAASoD,EAAIC,GAAO,OAAOvB,EAAG,MAAM,CAACY,IAAKf,EAAI1B,GAAK,UAAYoD,EAAOhB,YAAY,aAAa,CAACV,EAAIO,GAAGP,EAAIQ,GAAGiB,SAAU,GAAGzB,EAAI2B,SAC1nC,IGUpB,EACA,KACA,KACA,MAIa,UAAA5B,EAAiB,QAKhC,IAAkBA,EAAW,CAAC7B,YAAA","file":"objects-list.bundle.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:(\"vf-input d-flex flex-column \" + (_vm.field.class ? _vm.field.class:''))},[_c('label',{class:_vm.field.props && _vm.field.props.error ? 'red--text':''},[_vm._v(_vm._s(_vm.field.label))]),_vm._v(\" \"),_c('div',{staticClass:\"row ma-0\"},_vm._l((_vm.field.objects),function(item){return _c('v-checkbox',_vm._g(_vm._b({key:(_vm.id + \"-checkbox-\" + (item[_vm.decorator.id])),class:(\"ma-0 pa-0 me-4 \" + (_vm.field.props && _vm.field.props.class ? _vm.field.props.class:null)),attrs:{\"label\":_vm.getDecorableLabel(item)},on:{\"change\":_vm.onChanged},model:{value:(_vm.checkedIds[item[_vm.decorator.id]]),callback:function ($$v) {_vm.$set(_vm.checkedIds, item[_vm.decorator.id], $$v)},expression:\"checkedIds[item[decorator.id]]\"}},'v-checkbox',_vm.getProps(item),false),_vm.getEvents(item)))}),1),_vm._v(\" \"),(_vm.field.props && _vm.field.props.error)?_c('div',{staticClass:\"d-flex flex-column\"},_vm._l((_vm.field.props['error-messages']),function(err,index){return _c('div',{key:(_vm.id + \"-error-\" + index),staticClass:\"red--text\"},[_vm._v(_vm._s(err))])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"`vf-input d-flex flex-column ${field.class ? field.class:''}`\">\n    <label :class=\"field.props && field.props.error ? 'red--text':''\">{{ field.label }}</label>\n    <div class=\"row ma-0\">\n      <v-checkbox\n        v-for=\"item in field.objects\"\n        :key=\"`${id}-checkbox-${item[decorator.id]}`\"\n        :class=\"`ma-0 pa-0 me-4 ${field.props && field.props.class ? field.props.class:null}`\"\n        :label=\"getDecorableLabel(item)\"\n        v-model=\"checkedIds[item[decorator.id]]\"\n        v-bind=\"getProps(item)\"\n        @change=\"onChanged\"\n        v-on=\"getEvents(item)\"\n      ></v-checkbox>\n    </div>\n    <div class=\"d-flex flex-column\" v-if=\"field.props && field.props.error\">\n      <div\n        v-for=\"(err,index) in field.props['error-messages']\"\n        :key=\"`${id}-error-${index}`\"\n        class=\"red--text\"\n      >{{ err }}</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BaseComponent, { DecoratableComponent } from \"./mixins\";\nimport { VCheckbox } from \"vuetify/lib\";\n\nexport default {\n  components: {\n    VCheckbox\n  },\n  mixins: [BaseComponent, DecoratableComponent],\n  name: \"vf-objects-list-input\",\n  props: {\n    id: String,\n    field: Object,\n    value: {\n      type: [Object, Array],\n      default: () => ({})\n    }\n  },\n  data() {\n    return {\n      checkedIds: this.getCheckedIds()\n    };\n  },\n  methods: {\n    getProps: function(item) {\n      return {\n        ...(item.props ? item.props : {})\n      };\n    },\n    getEvents: function(item) {\n      return {\n        ...(item.props && item.props[\"v-on\"] ? item.props[\"v-on\"] : {})\n      };\n    },\n    onChanged() {\n      const values = Array.isArray(this.value) ? [] : {};\n      if (this.field.objects) {\n        this.field.objects?.forEach(o => {\n          if (this.checkedIds[o[this.decorator.id]]) {\n            if (Array.isArray(values)) {\n              values.push({\n                [this.decorator.id]: o[this.decorator.id]\n              });\n            } else {\n              values[o[this.decorator.id]] = {\n                [this.decorator.id]: o[this.decorator.id],\n                [this.decorator.title]: this.getDecorableLabel(o)\n              };\n            }\n          }\n        });\n      }\n      this.devalue = values;\n    },\n    getCheckedIds() {\n        const checkedIds = {};\n        if (this.field.objects) {\n        this.field.objects.forEach(o => {\n            checkedIds[o.id] = false;\n        });\n        }\n        if (this.value) {\n            if (Array.isArray(this.value)) {\n                this.value.forEach(v => {\n                checkedIds[v.id] = true;\n                });\n            } else {\n                for (const p in this.value) {\n                const v = this.value[p];\n                if (typeof v === \"object\") {\n                    checkedIds[v.id] = true;\n                } else {\n                    checkedIds[p] = v;\n                }\n                }\n            }\n        }\n        return checkedIds;\n    }\n  },\n  watch: {\n    devalue: function() {\n      this.$emit(\"input\", this.devalue);\n    },\n    value () {\n        this.checkedIds = this.getCheckedIds();\n    }\n  },\n};\n</script>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ObjectsListInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ObjectsListInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ObjectsListInput.vue?vue&type=template&id=6b268010&\"\nimport script from \"./ObjectsListInput.vue?vue&type=script&lang=js&\"\nexport * from \"./ObjectsListInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\ninstallComponents(component, {VCheckbox})\n"],"sourceRoot":""}