{"version":3,"sources":["webpack:///./node_modules/moment/locale sync [/\\\\](fa(\\.js)","webpack:///./resources/js/Lib/vuetify-formjson/Fields/Reports/Chart.vue?4bfc","webpack:///resources/js/Lib/vuetify-formjson/Fields/Reports/Chart.vue","webpack:///./resources/js/Lib/vuetify-formjson/Fields/Reports/Chart.vue?fc08","webpack:///./resources/js/Lib/vuetify-formjson/Fields/Reports/Chart.vue"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","component","_vm","this","_h","$createElement","_c","_self","class","field","attrs","md","lg","sm","xs","staticStyle","staticClass","_v","_s","label","subtitle","duration","window","_e","loading","on","$event","updateReport","autoupdate","show","directives","name","rawName","value","expression","durations","model","callback","$$v","windows","filters","type","extraFilters","ref","VBtn","VCard","VCardActions","VCardText","VChip","VCol","VDivider","VExpandTransition","VIcon","VList","VListItem","VListItemAction","VListItemContent","VListItemSubtitle","VListItemTitle","VSelect"],"mappings":"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","file":"reports-chart.bundle.js","sourcesContent":["var map = {\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"UFej\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-col',{class:(\"vf-input \" + (this.field.class ? this.field.class:'')),attrs:{\"cols\":\"12\",\"md\":_vm.field.md ? _vm.field.md : 6,\"lg\":_vm.field.lg ? _vm.field.lg : 6,\"sm\":_vm.field.sm ? _vm.field.sm : 6,\"xs\":_vm.field.xs ? _vm.field.xs : 6}},[_c('v-card',{staticStyle:{\"border\":\"solid 1px lightgray\"}},[_c('v-card-actions',{staticClass:\"text-subtitle-1 pt-0\",attrs:{\"dark\":\"\"}},[_c('v-list',{staticClass:\"px-0 mx-auto\",attrs:{\"dense\":\"\"}},[_c('v-list-item',{staticClass:\"px-0\"},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.field.label))]),_vm._v(\" \"),(_vm.field.subtitle)?_c('v-list-item-subtitle',[_vm._v(\"\\n                \"+_vm._s(_vm.field.subtitle)+\"\\n                \"),_c('v-chip',{attrs:{\"dense\":\"\",\"small\":\"\"}},[_vm._v(\"\\n                    \"+_vm._s(this.duration)+\"\\n                \")]),_vm._v(\" \"),(_vm.field.is_windowed)?_c('v-chip',{attrs:{\"dense\":\"\",\"small\":\"\"}},[_vm._v(\"\\n                    \"+_vm._s(this.window)+\"\\n                \")]):_vm._e()],1):_vm._e()],1),_vm._v(\" \"),_c('v-list-item-action',{staticClass:\"my-auto d-flex flex-row\"},[_c('v-btn',{attrs:{\"loading\":_vm.loading,\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.updateReport()}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"\\n                    mdi-refresh\\n                \")])],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"color\":_vm.autoupdate ? 'success': 'secondary'},on:{\"click\":function($event){_vm.autoupdate = !_vm.autoupdate}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"\\n                    mdi-refresh-circle\\n                \")])],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){_vm.show = !_vm.show}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"\\n                    \"+_vm._s(_vm.show ? 'mdi-chevron-up' : 'mdi-chevron-down')+\"\\n                \")])],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"d-flex flex-column\"})],1),_vm._v(\" \"),_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}]},[_c('v-divider'),_vm._v(\" \"),_c('v-card-text',{staticClass:\"d-flex flex-column\"},[_c('v-select',{staticClass:\"mx-4 my-1\",attrs:{\"items\":_vm.durations,\"label\":\"بازه زمانی گزارش\",\"flat\":\"\",\"outlined\":\"\",\"rounded\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"item-text\":\"id\",\"item-value\":\"id\"},model:{value:(_vm.duration),callback:function ($$v) {_vm.duration=$$v},expression:\"duration\"}}),_vm._v(\" \"),(_vm.field.is_windowed)?_c('v-select',{staticClass:\"mx-4 my-1\",attrs:{\"items\":_vm.windows,\"label\":\"پنجره تجمیع\",\"flat\":\"\",\"outlined\":\"\",\"rounded\":\"\",\"hide-details\":\"\",\"dense\":\"\",\"item-text\":\"id\",\"item-value\":\"id\"},model:{value:(_vm.window),callback:function ($$v) {_vm.window=$$v},expression:\"window\"}}):_vm._e(),_vm._v(\" \"),(_vm.field.filters)?_c('vf-fields-renderer',{attrs:{\"fields\":_vm.field.filters,\"options\":{ type: 'col', }},model:{value:(_vm.extraFilters),callback:function ($$v) {_vm.extraFilters=$$v},expression:\"extraFilters\"}}):_vm._e()],1)],1)]),_vm._v(\" \"),_c('v-card-text',{staticClass:\"pb-0\"},[_c('canvas',{ref:\"chart\",staticStyle:{\"height\":\"80%\"}})])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-col\n        cols=\"12\"\n        :class=\"`vf-input ${this.field.class ? this.field.class:''}`\"\n        :md=\"field.md ? field.md : 6\"\n        :lg=\"field.lg ? field.lg : 6\"\n        :sm=\"field.sm ? field.sm : 6\"\n        :xs=\"field.xs ? field.xs : 6\"\n    >\n        <v-card style=\"border: solid 1px lightgray;\">\n            <v-card-actions\n            dark\n            class=\"text-subtitle-1 pt-0\"\n            >\n            <v-list\n                dense\n                class=\"px-0 mx-auto\"\n            >\n                <v-list-item class=\"px-0\">\n                <v-list-item-content>\n                    <v-list-item-title>{{ field.label }}</v-list-item-title>\n                    <v-list-item-subtitle v-if=\"field.subtitle\">\n                    {{ field.subtitle }}\n                    <v-chip\n                        dense\n                        small\n                    >\n                        {{ this.duration }}\n                    </v-chip>\n                    <v-chip\n                        v-if=\"field.is_windowed\"\n                        dense\n                        small\n                    >\n                        {{ this.window }}\n                    </v-chip>\n                    </v-list-item-subtitle>\n                </v-list-item-content>\n                <v-list-item-action class=\"my-auto d-flex flex-row\">\n                    <v-btn\n                    :loading=\"loading\"\n                    icon\n                    small\n                    @click=\"updateReport()\"\n                    >\n                    <v-icon small>\n                        mdi-refresh\n                    </v-icon>\n                    </v-btn>\n                    <v-btn\n                    icon\n                    small\n                    :color=\"autoupdate ? 'success': 'secondary'\"\n                    @click=\"autoupdate = !autoupdate\"\n                    >\n                    <v-icon small>\n                        mdi-refresh-circle\n                    </v-icon>\n                    </v-btn>\n                    <v-btn\n                    icon\n                    small\n                    @click=\"show = !show\"\n                    >\n                    <v-icon small>\n                        {{ show ? 'mdi-chevron-up' : 'mdi-chevron-down' }}\n                    </v-icon>\n                    </v-btn>\n                </v-list-item-action>\n                </v-list-item>\n            </v-list>\n            <div class=\"d-flex flex-column\" />\n            </v-card-actions>\n            <v-expand-transition>\n            <div v-show=\"show\">\n                <v-divider />\n                <v-card-text class=\"d-flex flex-column\">\n                <v-select\n                    v-model=\"duration\"\n                    :items=\"durations\"\n                    label=\"بازه زمانی گزارش\"\n                    flat\n                    outlined\n                    rounded\n                    hide-details\n                    dense\n                    class=\"mx-4 my-1\"\n                    item-text=\"id\"\n                    item-value=\"id\"\n                />\n                <v-select\n                    v-if=\"field.is_windowed\"\n                    v-model=\"window\"\n                    :items=\"windows\"\n                    label=\"پنجره تجمیع\"\n                    flat\n                    outlined\n                    rounded\n                    hide-details\n                    dense\n                    class=\"mx-4 my-1\"\n                    item-text=\"id\"\n                    item-value=\"id\"\n                />\n                <vf-fields-renderer\n                    v-if=\"field.filters\"\n                    v-model=\"extraFilters\"\n                    :fields=\"field.filters\"\n                    :options=\"{ type: 'col', }\"\n                />\n                </v-card-text>\n            </div>\n            </v-expand-transition>\n            <v-card-text class=\"pb-0\">\n            <canvas\n                ref=\"chart\"\n                style=\"height: 80%;\"\n            />\n            </v-card-text>\n        </v-card>\n    </v-col>\n</template>\n\n<script>\nimport BaseComponent, {\n    DecoratableComponent\n} from \"./../mixins\";\nimport Chart from \"chart.js\";\nimport moment from \"moment-jalaali\";\nimport momentTz from \"moment-timezone\";\n\nexport default {\n    name: \"VfReportChartInput\",\n    components: {},\n    mixins: [BaseComponent, DecoratableComponent],\n    props: {\n        id: String,\n        field: Object,\n        value: [Object, String, Array, Number]\n    },\n    data: vm => ({\n        data: vm.field.data,\n        duration: vm.field.default_duration ? vm.field.default_duration : \"1h\",\n        window: vm.field.default_window ? vm.field.default_window : \"1m\",\n        show: false,\n        loading: false,\n        autoupdate: false,\n        durations: [\n            {\n                id: \"1m\"\n            },\n            {\n                id: \"5m\"\n            },\n            {\n                id: \"10m\"\n            },\n            {\n                id: \"30m\"\n            },\n            {\n                id: \"1h\"\n            },\n            {\n                id: \"3h\"\n            },\n            {\n                id: \"6h\"\n            },\n            {\n                id: \"12h\"\n            },\n            {\n                id: \"1d\"\n            },\n            {\n                id: \"2d\"\n            },\n            {\n                id: \"7d\"\n            },\n            {\n                id: \"15d\"\n            },\n            {\n                id: \"30d\"\n            },\n            {\n                id: \"90d\"\n            },\n            {\n                id: \"180d\"\n            },\n            {\n                id: \"1y\"\n            },\n            {\n                id: \"2y\"\n            }\n        ],\n        windows: [\n            {\n                id: \"1s\"\n            },\n            {\n                id: \"10s\"\n            },\n            {\n                id: \"30s\"\n            },\n            {\n                id: \"1m\"\n            },\n            {\n                id: \"5m\"\n            },\n            {\n                id: \"10m\"\n            },\n            {\n                id: \"15m\"\n            },\n            {\n                id: \"30m\"\n            },\n            {\n                id: \"1h\"\n            },\n            {\n                id: \"3h\"\n            },\n            {\n                id: \"6h\"\n            },\n            {\n                id: \"12h\"\n            },\n            {\n                id: \"1d\"\n            },\n            {\n                id: \"7d\"\n            },\n            {\n                id: \"30d\"\n            }\n        ],\n        chart: null,\n        extraFilters: {},\n    }),\n    computed: {\n        datasets() {\n            if (!this.data) {\n                return [];\n            }\n            function adjust(color, amount) {\n                return '#' + color.replace(/^#/, '').replace(/../g, color => ('0'+Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(16)).substr(-2));\n            }\n            const getRandomColor = () => ('#'+Math.floor(Math.random()*16777215).toString(16)+'55');\n            if (this.field.report_groups && this.field.report_groups.length > 0) {\n                const groupKeys = this.field.report_groups.split(\",\");\n                const sets = [];\n                groupKeys.forEach(key => {\n                    const groups = {};\n                    this.data.map(i => {\n                        groups[i[key]] ? (groups[i[key]] += 1) : (groups[i[key]] = 1);\n                    });\n                    let indexer = 0;\n                    for (const keyVals in groups) {\n                        let xLabel = \"\";\n                        if (this.field.labels) {\n                            const label = this.field.labels.filter(l => {\n                                return l[this.field.report_label_key] == keyVals;\n                            });\n                            if (label && label[0]) {\n                                const flabel = { key: keyVals, ...label[0] };\n                                xLabel = this.getDecorableLabel(flabel);\n                            }\n                        }\n                        const color = getRandomColor();\n                        sets.push({\n                            label: xLabel,\n                            backgroundColor: color,\n                            borderColor: adjust(color, 20),\n                            data: this.data\n                                .filter(i => i[key] == keyVals)\n                                .map(i => ({ y: i._value ? i._value : 0, x: moment(i._time) }))\n                        });\n                        indexer++;\n                    }\n                });\n                return sets;\n            } else {\n                const backgroundColor = [];\n                const borderColor = [];\n                this.data.forEach((i) => {\n                    const color = getRandomColor();\n                    backgroundColor.push(adjust(color, 20))\n                    borderColor.push(color);\n                })\n                return [\n                    {\n                        data: this.data.map(i => i._value),\n                        backgroundColor,\n                        borderColor,\n                        borderWidth: 1\n                    }\n                ];\n            }\n        },\n        labels() {\n            if (this.field.is_x_time) {\n                return this.data.map(i => i._time);\n            }\n\n            return this.data.map(i => {\n                if (this.field.labels) {\n                    const label = this.field.labels.filter(l => {\n                        return (\n                            l[this.field.report_label_key] == i[this.field.report_item_key]\n                        );\n                    });\n                    if (label && label[0]) {\n                        const flabel = { ...i, ...label[0] };\n                        return this.getDecorableLabel(flabel);\n                    }\n                }\n                return i[this.field.report_item_key];\n            });\n        }\n    },\n    watch: {\n        data() {\n            if (this.data) {\n                if (this.chart) {\n                    this.chart.destroy();\n                }\n                this.chart = new Chart(this.$refs.chart, {\n                    type: this.field.report_type,\n                    data: {\n                        labels: this.labels,\n                        datasets: this.datasets\n                    },\n                    options: {\n                        scales:\n              this.field.report_type === \"bar\" ||\n              this.field.report_type === \"line\"\n                  ? {\n                      xAxes: [\n                          {\n                              type: \"time\",\n                              time: {\n                                  unit: this.window.endsWith(\"d\")\n                                      ? \"day\"\n                                      : this.window.endsWith(\"h\")\n                                          ? \"hour\"\n                                          : this.window.endsWith(\"s\")\n                                              ? \"second\"\n                                              : \"minute\",\n                                  tooltipFormat: \"jYYYY/jMM/jDD, h:mm:ss a\",\n                                  displayFormats: {\n                                      millisecond: \"h:mm:ss.SSS a\",\n                                      second: \"h:mm:ss a\",\n                                      minute: \"h:mm a\",\n                                      hour: \"hA\",\n                                      day: \"jMM/jDD\",\n                                      week: \"ll\",\n                                      month: \"jYYYY/jMM\",\n                                      quarter: \"[Q]Q - jYYYY\",\n                                      year: \"jYYYY\"\n                                  }\n                              }\n                          }\n                      ]\n                  }\n                  : {},\n                        legend: {\n                            display: true,\n                            position: \"bottom\"\n                        }\n                    }\n                });\n            }\n        }\n    },\n    mounted() {\n        Chart._adapters._date.override({\n            format: function(time, fmt) {\n                return moment(time)\n                    .locale(\"fa\")\n                    .format(fmt);\n            }\n        });\n\n        this.updateReport();\n    },\n    methods: {\n        updateReport() {\n            this.loading = true;\n            const host = this.$store.state.host;\n\n            const start = moment();\n            const stop = moment();\n            const am = parseInt(this.duration.substr(0, this.duration.length - 1));\n            if (this.duration.endsWith(\"m\")) {\n                start.add(-1 * am, \"minute\");\n            } else if (this.duration.endsWith(\"h\")) {\n                start.add(-1 * am, \"hour\");\n            } else if (this.duration.endsWith(\"d\")) {\n                start.add(-1 * am, \"day\");\n            } else if (this.duration.endsWith(\"s\")) {\n                start.add(-1 * am, \"secoonds\");\n            } else if (this.duration.endsWith(\"y\")) {\n                start.add(-1 * am, \"year\");\n            }\n\n            const filters = this.field.filters ? this.extraFilters : {}\n            if (this.field.query_filters) {\n                this.field.query_filters.forEach((f) => {\n                    filters[f.filter] = f.value;\n                })\n            }\n\n            if (this.field.report_url) {\n                host\n                    .axios({\n                        url: this.field.report_url,\n                        method: \"POST\",\n                        headers: host.getWebAuthHeaders({}),\n                        data: {\n                            name: this.field.report_name,\n                            from: start.format(\"Y-MM-DDTH:mm:ssZ\"),\n                            to: stop.format(\"Y-MM-DDTH:mm:ssZ\"),\n                            window: this.window,\n                            group: this.field.group?.split(','),\n                            filters,\n                            func: this.field.func\n                        }\n                    })\n                    .then(response => {\n                        this.loading = false;\n                        this.data = response.data;\n                    })\n                    .catch(error => {\n                        this.loading = false;\n                        host.showSnack(error.message);\n                    });\n            }\n        }\n    }\n};\n</script>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chart.vue?vue&type=template&id=10569507&\"\nimport script from \"./Chart.vue?vue&type=script&lang=js&\"\nexport * from \"./Chart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VExpandTransition } from 'vuetify/lib/components/transitions';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VChip,VCol,VDivider,VExpandTransition,VIcon,VList,VListItem,VListItemAction,VListItemContent,VListItemSubtitle,VListItemTitle,VSelect})\n"],"sourceRoot":""}