(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{BItT:function(n,e,s){"use strict";s.r(e);var t={name:"VfAcSessionLinkInput",props:{field:Object,value:Object,id:String},data:function(n){return{loading:!1,access:null}},computed:{isEnded:function(){return"ended"===this.field.status},startTitle:function(){return this.canStart?"دریافت مجوز ورود به کلاس AdobeConnect":"ابتدا در آزمون شرکت کنید"},canStart:function(){var n,e,s,t;if((null===(n=this.field.data)||void 0===n||null===(e=n.types)||void 0===e?void 0:e.azmoon)&&((null===(s=this.field.data)||void 0===s||null===(t=s.types)||void 0===t?void 0:t.azmoon.is_required)&&!this.field.azmoon_result))return!1;return!0}},methods:{onVerifyACMeeting:function(){var n=this,e=this.$store.state.host;this.loading=!0,e.axios({method:"POST",url:"/api/adobe-connect/verify/"+this.field.ac_session_id,headers:e.getWebAuthHeaders({})}).then((function(e){n.loading=!1,e.data.url&&e.data.sessions&&(n.access=e.data)})).catch((function(s){n.loading=!1,e.showSnack(s.message)}))},onOpenWindow:function(){window.open(this.access.url+"?session="+this.access.sessions[this.access.server])},onOpenRecording:function(n){var e=new URL(n),s=e.protocol+"//"+e.host;window.open(n+"?session="+this.access.sessions[s])}}},i=s("KHd+"),o=s("ZUTo"),a=s.n(o),c=s("gzZi"),d=s("Ey0z"),l=Object(i.a)(t,(function(){var n=this,e=n.$createElement,s=n._self._c||e;return s("div",{class:"vf-input "+(n.field.class?n.field.class:"")},[n.access?n._e():s("v-btn",{staticClass:"no-letter-spacing",attrs:{outlined:"",loading:n.loading,disabled:!n.canStart&&!n.isEnded},on:{click:n.onVerifyACMeeting}},[s("v-icon",{staticClass:"mx-2"},[n._v(n._s(n.isEnded?"mdi-play":"mdi-google-classroom"))]),n._v(" "),n.isEnded?s("span",[n._v("دریافت مجوز نمایش از AdobeConnect")]):s("span",[n._v(n._s(n.startTitle))])],1),n._v(" "),n.access&&!n.isEnded?s("v-btn",{staticClass:"no-letter-spacing",attrs:{outlined:"",color:"green"},on:{click:n.onOpenWindow}},[s("v-icon",{staticClass:"mx-1"}),n._v("\n      ورود به کلاس AdobeConnect\n  ")],1):n._e(),n._v(" "),n._l(n.field.recordings,(function(e,t){return n.access&&n.isEnded?s("v-btn",{key:n.id+"-recording-"+t,staticClass:"no-letter-spacing me-2",attrs:{outlined:"",color:"green"},on:{click:function(s){return n.onOpenRecording(e)}}},[s("v-icon",{staticClass:"me-1"},[n._v("md-play")]),n._v("\n      نمایش فایل ضبط شده در AdobeConnect "),n.field.recordings&&n.field.recordings.length>1?s("span",[n._v("- شماره "+n._s(t+1))]):n._e()],1):n._e()}))],2)}),[],!1,null,null,null);e.default=l.exports;a()(l,{VBtn:c.a,VIcon:d.a})}}]);
//# sourceMappingURL=ac-session-link.bundle.js.map