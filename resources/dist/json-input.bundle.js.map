{"version":3,"sources":["webpack:///./resources/js/Lib/vuetify-formjson/Fields/JSONInput.vue?679e","webpack:///resources/js/Lib/vuetify-formjson/Fields/JSONInput.vue","webpack:///./resources/js/Lib/vuetify-formjson/Fields/JSONInput.vue?1850","webpack:///./resources/js/Lib/vuetify-formjson/Fields/JSONInput.vue"],"names":["_vm","this","_h","$createElement","_c","_self","class","field","staticClass","props","error","_v","_s","label","attrs","options","mode","on","$event","setMode","icons","code","edit","view","ref","style","height","_l","err","i","key","_e","VBtn","VDivider","VIcon"],"mappings":"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","file":"json-input.bundle.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:(\"vf-input d-flex flex-grow-1 flex-column \" + (_vm.field.class ? _vm.field.class:''))},[_c('div',{staticClass:\"d-flex flex-row align-center mb-1\"},[_c('label',{class:_vm.field.props && _vm.field.props.error ? 'red--text me-1':'me-1'},[_vm._v(_vm._s(_vm.field.label))]),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":_vm.options.mode === 'code' ? 'primary':'secondary'},on:{\"click\":function($event){return _vm.setMode('code')}}},[_c('v-icon',[_vm._v(_vm._s(_vm.field.icons && _vm.field.icons.code ? _vm.field.icons.code:'mdi-code-array'))])],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":_vm.options.mode === 'tree' ? 'primary':'secondary'},on:{\"click\":function($event){return _vm.setMode('tree')}}},[_c('v-icon',[_vm._v(_vm._s(_vm.field.icons && _vm.field.icons.edit ? _vm.field.icons.edit:'mdi-file-document-edit'))])],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"color\":_vm.options.mode === 'form' ? 'primary':'secondary'},on:{\"click\":function($event){return _vm.setMode('form')}}},[_c('v-icon',[_vm._v(_vm._s(_vm.field.icons && _vm.field.icons.view ? _vm.field.icons.view:'mdi-eye'))])],1)],1),_vm._v(\" \"),_c('div',{ref:\"editor\",style:((\"width: 100%; height: \" + (_vm.field.height ? _vm.field.height:'400px') + \";\"))}),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),(_vm.field.props && _vm.field.props.error)?_c('div',{staticClass:\"d-flex flex-column\"},_vm._l((_vm.field.props['error-messages']),function(err,i){return _c('div',{key:(\"error-message-\" + i),staticClass:\"red--text\"},[_vm._v(_vm._s(err))])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"`vf-input d-flex flex-grow-1 flex-column ${field.class ? field.class:''}`\">\n    <div class=\"d-flex flex-row align-center mb-1\">\n      <label :class=\"field.props && field.props.error ? 'red--text me-1':'me-1'\">{{ field.label }}</label>\n      <v-btn\n        text\n        icon\n        :color=\"options.mode === 'code' ? 'primary':'secondary'\"\n        @click=\"setMode('code')\"\n      >\n        <v-icon>{{ field.icons && field.icons.code ? field.icons.code:'mdi-code-array'}}</v-icon>\n      </v-btn>\n      <v-btn\n        text\n        icon\n        :color=\"options.mode === 'tree' ? 'primary':'secondary'\"\n        @click=\"setMode('tree')\"\n      >\n        <v-icon>{{ field.icons && field.icons.edit ? field.icons.edit:'mdi-file-document-edit'}}</v-icon>\n      </v-btn>\n      <v-btn\n        text\n        icon\n        :color=\"options.mode === 'form' ? 'primary':'secondary'\"\n        @click=\"setMode('form')\"\n      >\n        <v-icon>{{ field.icons && field.icons.view ? field.icons.view:'mdi-eye'}}</v-icon>\n      </v-btn>\n    </div>\n    <div ref=\"editor\" :style=\"`width: 100%; height: ${field.height ? field.height:'400px'};`\"></div>\n    <v-divider></v-divider>\n    <div class=\"d-flex flex-column\" v-if=\"field.props && field.props.error\">\n      <div\n        v-for=\"(err,i) in field.props['error-messages']\"\n        :key=\"`error-message-${i}`\"\n        class=\"red--text\"\n      >{{ err }}</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport JSONEditor from 'jsoneditor'\nimport BaseComponent from './mixins'\nimport { VDivider, VBtn, VIcon } from 'vuetify/lib'\n\nexport default {\n    components: {\n        VDivider, VBtn, VIcon\n    },\n    mixins: [BaseComponent],\n    name: 'vf-json-input',\n    props: {\n        id: String,\n        field: Object,\n        value: [Object, String]\n    },\n    data () {\n        return {\n            options: {\n                mode: 'code'\n            },\n            editor: null,\n            ignoreUpdate: false\n        }\n    },\n    methods: {\n        setMode: function (mode) {\n            this.options.mode = mode\n            this.editor.setMode(mode)\n        }\n    },\n    watch: {\n        devalue: {\n            deep: true,\n            handler () {\n                const pos = this.editor.getTextSelection()\n                this.editor.set(this.devalue)\n                this.editor.setTextSelection(pos.start, pos.end)\n            }\n        }\n    },\n    mounted: function () {\n        const component = this\n        const container = this.$refs.editor\n        const options = {\n            ...this.options,\n            onChange: function () {\n                try {\n                    this.devalue = component.editor.get()\n                    this.ignoreUpdate = true\n                    component.$emit('input', this.devalue)\n                } catch (ex) {\n                    // console.error(ex);\n                }\n            }\n        }\n        if (container) {\n            this.editor = new JSONEditor(container, options)\n            if (this.devalue) {\n                if (typeof this.devalue === 'string') {\n                    this.editor.set(JSON.parse(this.devalue))\n                } else {\n                    this.editor.set(this.devalue)\n                }\n            } else {\n                this.editor.set({})\n            }\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JSONInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JSONInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JSONInput.vue?vue&type=template&id=93fc7cb0&\"\nimport script from \"./JSONInput.vue?vue&type=script&lang=js&\"\nexport * from \"./JSONInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VDivider,VIcon})\n"],"sourceRoot":""}