(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+miZ":function(t,e,a){"use strict";a.r(e);var i=a("pnuC"),n=a.n(i),s={name:"VfAzmoonInput",props:{field:Object,value:Object,id:String},data:function(){return{dialog:!1,state:"started",answerSheet:!1,loading:!1,details:null,started_at:null}},computed:{azmoonTitle:function(){var t,e,a;return null!==(t=null===(e=this.field.data.types)||void 0===e||null===(a=e.azmoon)||void 0===a?void 0:a.title)&&void 0!==t?t:field.data.title},questionsCount:function(){var t,e;return null!==(t=null===(e=this.questions)||void 0===e?void 0:e.length)&&void 0!==t?t:0},azmoonTimed:function(){var t,e,a,i;return(null===(t=this.field.data.types)||void 0===t||null===(e=t.azmoon)||void 0===e?void 0:e.max_time)&&parseInt(null===(a=this.field.data.types)||void 0===a||null===(i=a.azmoon)||void 0===i?void 0:i.max_time)>0},azmoonTime:function(){var t,e;return parseInt(null===(t=this.field.data.types)||void 0===t||null===(e=t.azmoon)||void 0===e?void 0:e.max_time)},azmoonTimeString:function(){return this.azmoonTimed?this.azmoonTime.toLocaleString("fa")+" دقیقه ":"بدون زمان"},questions:function(){var t,e,a,i,n,s,o,l;return(null===(t=this.details)||void 0===t||null===(e=t.data)||void 0===e||null===(a=e.types)||void 0===a||null===(i=a.azmoon)||void 0===i?void 0:i.details)?null===(n=this.details)||void 0===n||null===(s=n.data)||void 0===s||null===(o=s.types)||void 0===o||null===(l=o.azmoon)||void 0===l?void 0:l.details.filter((function(t){return t.q_file})):[]},hasHistory:function(){return!(!this.details||!this.details.user_history)},azmoonTimeTitle:function(){if(this.azmoonTimed){var t=n()().diff(this.started_at,"minute"),e=this.azmoonTimed-t;return"زمان باقی مانده ".concat(e," دقیقه")}}},methods:{startAzmoon:function(){this.started_at=n()(),this.started_at.setLocale("fa"),this.state="started"},endAzmoon:function(){},onGoToQuestion:function(){}},watch:{dialog:function(){var t=this;this.$store.state.host;this.dialog&&(this.details||(this.loading=!0,setTimeout((function(){var e=t.$store.state.host;e.webRequest({headers:e.getWebAuthHeaders({}),url:"/api/azmoon/"+t.field.id+"/details",method:"POST"}).then((function(e){t.details=e.data,t.loading=!1})).catch((function(a){var i,n,s,o;(t.loading=!1,null===(i=err.response)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.message)?e.showSnack(null===(s=err.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message):e.showSnack(err.message)}))}),300)))}}},o=a("KHd+"),l=a("ZUTo"),r=a.n(l),d=a("gzZi"),v=a("sK+t"),c=a("zCDB"),u=a("Yq0q"),m=a("FpqX"),f=a("Ey0z"),h=a("rdoz"),g=a("todF"),_=a("iGBT"),p=a("2hOt"),b=a("GADD"),w=a("XSMC"),y=a("NMP6"),C=a("93RO"),z=a("jjY0"),x=a("D9m0"),j=a("jdmY"),T=a("L6Q5"),V=a("r9mn"),S=a("cdmR"),k=a("Kn9U"),L=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:"vf-input "+(t.field.class?t.field.class:"")},[a("v-btn",{staticClass:"no-letter-spacing",attrs:{outlined:"",primary:"",rouned:""},on:{click:function(e){t.dialog=!0}}},[a("v-icon",{staticClass:"me-2"},[t._v("\n      "+t._s(t.field.icon)+"\n    ")]),t._v(" ورود به صفحه آزمون\n  ")],1),t._v(" "),a("v-dialog",{staticClass:"grey lighten-4",staticStyle:{width:"100%",height:"100%"},attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-system-bar",{attrs:{color:"primary",dark:""}},[t._v("\n      "+t._s(t.azmoonTitle)+"\n      "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:"",small:"",dense:""},on:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{small:"",disabled:"started"===t.state}},[t._v("\n          mdi-close\n        ")])],1)],1),t._v(" "),a("v-lazy",{staticClass:"pa-2 grey lighten-4 fill-height"},[a("v-sheet",{staticClass:"d-flex flex-column"},[a("v-row",{directives:[{name:"show",rawName:"v-show",value:"not_started"===t.state,expression:"state === 'not_started'"}],staticClass:"fill-height",attrs:{"no-gutters":"",justify:"center",align:"center"}},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-list",{attrs:{"three-line":""}},[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.azmoonTitle))]),t._v(" "),a("v-progress-linear",{attrs:{absolute:"",bottom:"",active:t.loading,indeterminate:"",color:"primary darken-2"}}),t._v(" "),t.details?a("v-list-item-subtitle",[t._v("شامل "+t._s(t.questionsCount)+" سوال ۴ گزینه ای")]):t._e(),t._v(" "),t.details?a("v-list-item-subtitle",[t._v(t._s(t.azmoonTimeString))]):t._e()],1),t._v(" "),a("v-list-item-action",[a("v-btn",{staticClass:"no-letter-spacing",attrs:{disabled:t.loading||t.hasHistory,outlined:"",color:"primary"},on:{click:t.startAzmoon}},[t._v("شروع آزمون")])],1)],1)],1)],1)],1),t._v(" "),a("v-toolbar",{directives:[{name:"show",rawName:"v-show",value:"started"===t.state,expression:"state === 'started'"}],attrs:{dense:""}},[a("v-toolbar-title",[t._v(t._s(t.azmoonTimeTitle))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"no-letter-spacing me-1",attrs:{outlined:"",small:"",color:"success"},on:{click:function(e){t.answerSheet=!t.answerSheet}}},[t._v("نمایش پاسخنامه")]),t._v(" "),a("v-btn",{staticClass:"no-letter-spacing me-1",attrs:{outlined:"",small:"",color:"warning"},on:{click:t.endAzmoon}},[t._v("تحویل پاسخنامه و ثبت پایان آزمون")])],1),t._v(" "),a("v-navigation-drawer",{staticStyle:{"min-width":"400px"},attrs:{fixed:"",temporary:""},model:{value:t.answerSheet,callback:function(e){t.answerSheet=e},expression:"answerSheet"}},[a("v-list",{attrs:{dense:""}},t._l(t.questions,(function(e,i){return a("v-list-item",{key:t.id+"-question-"+i,on:{click:function(e){return t.onGoToQuestion(i)}}},[a("v-list-item-icon",[a("v-chip",[t._v(t._s(i+1))])],1),t._v(" "),a("v-list-item-content",[a("div",{staticClass:"d-flex flex-row justify-space-between"},[a("v-btn",{staticClass:"mx-1 no-letter-spacing",attrs:{text:"",small:""}},[t._v("گزینه ۱")]),t._v(" "),a("v-btn",{staticClass:"mx-1 no-letter-spacing",attrs:{text:"",small:""}},[t._v("گزینه ۲")]),t._v(" "),a("v-btn",{staticClass:"mx-1 no-letter-spacing",attrs:{text:"",small:""}},[t._v("گزینه ۳")]),t._v(" "),a("v-btn",{staticClass:"mx-1 no-letter-spacing",attrs:{text:"",small:""}},[t._v("گزینه ۴")])],1)])],1)})),1)],1),t._v(" "),a("v-card",[a("v-row",{directives:[{name:"show",rawName:"v-show",value:"started"===t.state,expression:"state === 'started'"}],staticClass:"fill-height",attrs:{"no-gutters":"",justify:"center",align:"center"}},[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-card",[a("v-img",{attrs:{src:""}})],1)],1)],1)],1),t._v(" "),a("v-toolbar",{directives:[{name:"show",rawName:"v-show",value:"started"===t.state,expression:"state === 'started'"}],attrs:{dense:""}},[a("v-btn",{attrs:{small:"",outlined:""}},[a("v-icon",[t._v("mdi-chevron-double-right")])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"px-1 no-letter-spacing",attrs:{small:"",outlined:""}},[t._v("گزینه ۱")]),t._v(" "),a("v-btn",{staticClass:"px-1 no-letter-spacing",attrs:{small:"",outlined:""}},[t._v("گزینه ۲")]),t._v(" "),a("v-btn",{staticClass:"px-1 no-letter-spacing",attrs:{small:"",outlined:""}},[t._v("گزینه ۳")]),t._v(" "),a("v-btn",{staticClass:"px-1 no-letter-spacing",attrs:{small:"",outlined:""}},[t._v("گزینه ۴")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{small:"",outlined:""}},[a("v-icon",[t._v("mdi-chevron-double-left")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=L.exports;r()(L,{VBtn:d.a,VCard:v.a,VChip:c.a,VCol:u.a,VDialog:m.a,VIcon:f.a,VImg:h.a,VLazy:g.a,VList:_.a,VListItem:p.a,VListItemAction:b.a,VListItemContent:w.a,VListItemIcon:y.a,VListItemSubtitle:w.b,VListItemTitle:w.c,VNavigationDrawer:C.a,VProgressLinear:z.a,VRow:x.a,VSheet:j.a,VSpacer:T.a,VSystemBar:V.a,VToolbar:S.a,VToolbarTitle:k.a})},UFej:function(t,e,a){var i={"./fa":"jfSC","./fa.js":"jfSC"};function n(t){var e=s(t);return a(e)}function s(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=s,t.exports=n,n.id="UFej"},sfId:function(t,e){function a(t){return 0===n(t).leap}function i(t,e){return e<=6?31:e<=11||a(t)?30:29}function n(t){var e,a,i,n,s,o,l=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178],r=l.length,c=t+621,u=-14,m=l[0];if(t<m||t>=l[r-1])throw new Error("Invalid Jalaali year "+t);for(o=1;o<r&&(a=(e=l[o])-m,!(t<e));o+=1)u=u+8*d(a,33)+d(v(a,33),4),m=e;return u=u+8*d(s=t-m,33)+d(v(s,33)+3,4),4===v(a,33)&&a-s==4&&(u+=1),n=20+u-(d(c,4)-d(3*(d(c,100)+1),4)-150),a-s<6&&(s=s-a+33*d(a+4,33)),-1===(i=v(v(s+1,33)-1,4))&&(i=4),{leap:i,gy:c,march:n}}function s(t,e,a){var i=n(t);return l(i.gy,3,i.march)+31*(e-1)-d(e,7)*(e-7)+a-1}function o(t){var e,a=r(t).gy,i=a-621,s=n(i);if((e=t-l(a,3,s.march))>=0){if(e<=185)return{jy:i,jm:1+d(e,31),jd:v(e,31)+1};e-=186}else i-=1,e+=179,1===s.leap&&(e+=1);return{jy:i,jm:7+d(e,30),jd:v(e,30)+1}}function l(t,e,a){var i=d(1461*(t+d(e-8,6)+100100),4)+d(153*v(e+9,12)+2,5)+a-34840408;return i=i-d(3*d(t+100100+d(e-8,6),100),4)+752}function r(t){var e,a,i,n;return e=(e=4*t+139361631)+4*d(3*d(4*t+183187720,146097),4)-3908,a=5*d(v(e,1461),4)+308,i=d(v(a,153),5)+1,n=v(d(a,153),12)+1,{gy:d(e,1461)-100100+d(8-n,6),gm:n,gd:i}}function d(t,e){return~~(t/e)}function v(t,e){return t-~~(t/e)*e}t.exports={toJalaali:function(t,e,a){"[object Date]"===Object.prototype.toString.call(t)&&(a=t.getDate(),e=t.getMonth()+1,t=t.getFullYear());return o(l(t,e,a))},toGregorian:function(t,e,a){return r(s(t,e,a))},isValidJalaaliDate:function(t,e,a){return t>=-61&&t<=3177&&e>=1&&e<=12&&a>=1&&a<=i(t,e)},isLeapJalaaliYear:a,jalaaliMonthLength:i,jalCal:n,j2d:s,d2j:o,g2d:l,d2g:r}}}]);
//# sourceMappingURL=azmoon-window.bundle.js.map