(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{gD0I:function(e,t,a){"use strict";a.r(t);var i=a("I1Ao"),n=a("xqZp"),l={components:{VAutocomplete:n.a},mixins:[i.d,i.a],name:"vf-autocomplete-input",props:{id:String,field:Object,value:[Array,String,Number]},data:function(e){return{search:"",loadingId:0,loading:!1,avItems:e.value?[{id:e.value}]:[]}},methods:{updateSearch:function(){var e=this;if(this.field.table&&this.field.table.query){var t=this.$store.state.host;this.loading=!0,this.loadingId+=1,this.axios({url:this.field.table.query.url,method:"POST",headers:t.getWebAuthHeaders({Accept:"application/json","Content-Type":"application/json"}),data:{ref_id:this.loadingId,page:0,limit:100,search:this.search,with:this.field.table.query.relations?this.field.table.query.relations:[],appends:this.field.table.query.appends?this.field.table.query.appends:[]}}).then((function(t){e.response=t,t.data.data&&e.loadingId<=t.data.ref_id&&(e.avItems=t.data.data,e.search="")})).catch((function(t){e.response=t.response})).finally((function(){e.loading=!1}))}},updateInput:function(e){[13].includes(e.keyCode)&&this.updateSearch()}},watch:{devalue:{deep:!0,handler:function(){this.$emit("input",this.devalue)}}}},s=a("KHd+"),r=a("ZUTo"),o=a.n(r),d=a("JMl+"),u=a("4Mey"),c=Object(s.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-autocomplete",e._g(e._b({class:"vf-input "+(e.field.class?e.field.class:""),attrs:{label:e.field.label,items:e.avItems,"search-input":e.search,loading:e.loading,"item-text":"title","item-value":"id","hide-details":"auto"},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},paste:function(t){return e.onPaste()}},nativeOn:{keyup:function(t){return e.updateInput(t)}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[a("v-label",[e._v(e._s(e.getDecorableLabel(i)))]),e._v(" "),e.decorator.subheader?a("v-subheader",[e._v(e._s(e.getDecorableProperty(i,"subheader")))]):e._e()]}},{key:"selection",fn:function(t){var i=t.item;return[a("v-label",[e._v(e._s(e.getDecorableLabel(i)))]),e._v(" "),e.decorator.subheader?a("v-subheader",[e._v(e._s(e.getDecorableProperty(i,"subheader")))]):e._e()]}}]),model:{value:e.devalue,callback:function(t){e.devalue=t},expression:"devalue"}},"v-autocomplete",e.fieldProps,!1),e.eventHandlers))}),[],!1,null,null,null);t.default=c.exports;o()(c,{VAutocomplete:n.a,VLabel:d.a,VSubheader:u.a})}}]);
//# sourceMappingURL=autocomplete.bundle.js.map