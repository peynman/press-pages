(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{1017:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("v-card",{staticClass:"ma-1",attrs:{flat:"","background-color":"grey lighten-2"}},[r("v-system-bar",{attrs:{dark:"",color:"primary"}},[t._v(t._s(t.label))]),t._v(" "),r("v-list",{attrs:{dense:"",color:"grey lighten-2"}},[r("v-list-item",{attrs:{"three-line":""}},[r("v-list-item-icon",{staticClass:"ma-auto"},[r("v-icon",{attrs:{large:""}},[t._v("mdi-alien-outline")])],1),t._v(" "),r("v-list-item-content",{staticClass:"ms-2"},[r("v-list-item-title",[r("strong",[t._v("IP:")]),t._v(" "+t._s(t.field.data.ip))]),t._v(" "),r("v-list-item-subtitle",[r("strong",[t._v("Agent:")]),t._v(" "+t._s(t.field.data.agent))]),t._v(" "),r("v-list-item-subtitle",[r("strong",[t._v("نوع اطلاعات فرم:")]),t._v(" "+t._s(t.formTypeString))])],1),t._v(" "),r("v-list-item-icon",{staticClass:"ma-auto"},[r("v-icon",{attrs:{color:t.showDetails?"warning":"secondary",small:""},on:{click:function(e){t.showDetails=!t.showDetails}}},[t._v("mdi-eye")])],1)],1)],1),t._v(" "),t.showDetails?r("v-simple-table",{attrs:{dense:"","hide-default-footer":""},scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",[t._v("پارامتر")]),t._v(" "),r("th",[t._v("مقدار")])])]),t._v(" "),r("tbody",t._l(t.formParams,(function(e,i){return r("tr",{key:t.id+"-form-"+t.itemId+"-"+i},[r("td",[t._v(t._s(e.key))]),t._v(" "),r("td",[r("span",{staticStyle:{overflow:"hidden","max-width":"40%"}},[t._v(t._s(e.value))])])])})),0)]},proxy:true}],null,false,426332211)}):t._e(),t._v(" "),t.showDetails&&t.formParams.length==0?r("div",{staticClass:"text-center ma-3"},[t._v("\n        پارامتری برای نمایش مستقیم ثبت نشده است\n    ")]):t._e(),t._v(" "),t.formType==="taklif"?r("v-card-text",{staticClass:"d-flex flex-column"},[r("span",{staticClass:"caption"},[t._v("فایل‌‌های ارسال شده توسط دانش آموز با شناسه "+t._s(t.field.user_id)+" برای جلسه با شناسه "+t._s(t.field.data.values.product_id))]),t._v(" "),r("div",{staticClass:"d-flex flex-row"},t._l(t.taklifFiles,(function(e){return r("v-btn",{key:t.id+"-taklif-"+t.itemId+"-"+e.id,staticClass:"no-letter-spacing ma-2",attrs:{outlined:"",small:"",href:e.link,target:"_blank"}},[t._v("\n                "+t._s(e.title)+"\n            ")])})),1)]):t._e(),t._v(" "),t.formType==="presence"?r("v-card-text",{staticClass:"d-flex flex-column"},[r("span",{staticClass:"caption"},[t._v("حضور و غیاب دانش آموز با شناسه "+t._s(t.field.user_id)+" برای جلسه با شناسه "+t._s(t.field.data.values.product_id))]),t._v(" "),r("v-list",{staticClass:"ma-2",attrs:{dense:"",color:"grey lighten-3"}},[r("v-list-item",{attrs:{"three-line":""}},[r("v-list-item-content",[r("v-list-item-title",[t._v("مدت حضور در کلاس: "+t._s(t.presenceDuration))]),t._v(" "),r("v-list-item-subtitle",[t._v("اولین ورود: "+t._s(t.presenceFirstEnter))]),t._v(" "),r("v-list-item-subtitle",[t._v("اخرین خروج: "+t._s(t.presenceLastExit))])],1)],1)],1)],1):t._e(),t._v(" "),t.formType==="support"?r("v-card-text",{staticClass:"d-flex flex-column"},[r("span",{staticClass:"caption"},[t._v("تاریخچه و پشتیبان دانش آموز با شناسه "+t._s(t.field.user_id))]),t._v(" "),r("v-list",{staticClass:"ma-2",attrs:{dense:"",color:"grey lighten-3"}},t._l(t.supportIds,(function(e,i){return r("v-list-item",{key:t.id+"-support-group-"+i,attrs:{"two-line":""}},[r("v-list-item-content",[r("v-list-item-title",[t._v("تغییر پشتیبان به شناسه #"+t._s(e.support_user_id)+" "+t._s(e.support_name))]),t._v(" "),r("v-list-item-subtitle",[t._v("تغییر در تاریخ "+t._s(e.at))])],1)],1)})),1)],1):t._e()],1)};var a=[];var n=r(124);var s=r(163);var l=r.n(s);var o=r(165);var u=r.n(o);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);if(e)i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,i)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){f(Object(r),true).forEach((function(e){d(t,e,r[e])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}}return t}function d(t,e,r){if(e in t){Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true})}else{t[e]=r}return t}function v(t){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){v=function t(e){return typeof e}}else{v=function t(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return v(t)}var p={mixins:[n["b"]],name:"form-entry-links-card",props:{id:String,field:Object},data:function t(){return{showDetails:false}},computed:{itemId:function t(){var e,r,i,a;var t=((e=this.field.expand)===null||e===void 0?void 0:(r=e.column)===null||r===void 0?void 0:r.id)?this.getNestedPathValue(this.field,(i=this.field.expand)===null||i===void 0?void 0:(a=i.column)===null||a===void 0?void 0:a.id):this.field.id;if(v(t)==="object"){return t.id}return t},formType:function t(){if(this.field.tags){if(this.field.tags.startsWith("course-")){if(this.field.tags.endsWith("-taklif")){return"taklif"}else if(this.field.tags.endsWith("-presence")){return"presence"}}else if(this.field.tags.startsWith("support-group-")){return"support"}else if(this.field.tags.startsWith("introducer-id-")){return"introducer"}}return"general"},formTypeString:function t(){return{general:"فرم عمومی",intoducer:"ثبت نام از طریق معرف",support:"تایین پشتیبان دانش آموز",presence:"حضور و غیاب دانش آموز در جلسه کلاس",taklif:"تکالیف ارسال شده توسط دانش آموز"}[this.formType]},label:function t(){return"جزییات فرم پر شده با شناسه ".concat(this.itemId," توسط کاربر با شناسه ").concat(this.field.user_id)},formParams:function t(){var e=[];for(var r in this.field.form.data.form.schema.fields){var i=this.field.form.data.form.schema.fields[r];if(i.validations&&i.validations.required){e.push({key:r,value:this.field.data.values[r]})}}return e},taklifFiles:function t(){var e=[];if(this.field.data.values.file_ids){this.field.data.values.file_ids.forEach((function(t){e.push({id:t,title:"نمایش تکلیف با شناسه ".concat(t),link:"/file-uploads/download/"+t})}))}return e},presenceDuration:function t(){var e=parseInt(this.field.data.values.duration*1e3);return l.a.duration(e).locale("fa").humanize({precision:3})},presenceFirstEnter:function t(){var e;var r=(e=this.field.data.values.sessions)!==null&&e!==void 0?e:[];if(r.length>0){var i=l()(u.a.utc(r[0].at).tz(u.a.tz.guess())).locale("fa");return"در ساعت "+i.format("hh:mm:ss")}return""},presenceLastExit:function t(){var e;var r=(e=this.field.data.values.sessions)!==null&&e!==void 0?e:[];if(r.length>0){var i=l()(u.a.utc(r[r.length-1].at).tz(u.a.tz.guess())).locale("fa");return"در ساعت "+i.format("hh:mm:ss")}return""},supportIds:function t(){var e;var r=[];var i=(e=this.field.data.values.support_ids)!==null&&e!==void 0?e:[];i.forEach((function(t){r.push(c(c({},t),{},{at:l()(u.a.utc(t.updated_at).tz(u.a.tz.guess())).locale("fa").format("jYYYY/jMM/jDD hh:mm:ss")}))}));return r}}};var m=p;var _=r(27);var h=r(28);var g=r.n(h);var y=r(69);var b=r(113);var j=r(53);var w=r(61);var k=r(115);var O=r(71);var x=r(11);var C=r(63);var D=r(157);var I=r(432);var S=Object(_["a"])(m,i,a,false,null,null,null);var P=e["default"]=S.exports;g()(S,{VBtn:y["a"],VCard:b["a"],VCardText:j["b"],VIcon:w["a"],VList:k["a"],VListItem:O["a"],VListItemContent:x["a"],VListItemIcon:C["a"],VListItemSubtitle:x["b"],VListItemTitle:x["c"],VSimpleTable:D["a"],VSystemBar:I["a"]})},162:function(t,e,r){var i={"./fa":126,"./fa.js":126};function a(t){var e=n(t);return r(e)}function n(t){if(!r.o(i,t)){var e=new Error("Cannot find module '"+t+"'");e.code="MODULE_NOT_FOUND";throw e}return i[t]}a.keys=function t(){return Object.keys(i)};a.resolve=n;t.exports=a;a.id=162},164:function(t,e){t.exports={toJalaali:r,toGregorian:i,isValidJalaaliDate:a,isLeapJalaaliYear:n,jalaaliMonthLength:s,jalCal:l,j2d:o,d2j:u,g2d:f,d2g:c};function r(t,e,r){if(Object.prototype.toString.call(t)==="[object Date]"){r=t.getDate();e=t.getMonth()+1;t=t.getFullYear()}return u(f(t,e,r))}function i(t,e,r){return c(o(t,e,r))}function a(t,e,r){return t>=-61&&t<=3177&&e>=1&&e<=12&&r>=1&&r<=s(t,e)}function n(t){return l(t).leap===0}function s(t,e){if(e<=6)return 31;if(e<=11)return 30;if(n(t))return 30;return 29}function l(t){var e=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178],r=e.length,i=t+621,a=-14,n=e[0],s,l,o,u,f,c,p;if(t<n||t>=e[r-1])throw new Error("Invalid Jalaali year "+t);for(p=1;p<r;p+=1){s=e[p];l=s-n;if(t<s)break;a=a+d(l,33)*8+d(v(l,33),4);n=s}c=t-n;a=a+d(c,33)*8+d(v(c,33)+3,4);if(v(l,33)===4&&l-c===4)a+=1;u=d(i,4)-d((d(i,100)+1)*3,4)-150;f=20+a-u;if(l-c<6)c=c-l+d(l+4,33)*33;o=v(v(c+1,33)-1,4);if(o===-1){o=4}return{leap:o,gy:i,march:f}}function o(t,e,r){var i=l(t);return f(i.gy,3,i.march)+(e-1)*31-d(e,7)*(e-7)+r-1}function u(t){var e=c(t).gy,r=e-621,i=l(r),a=f(e,3,i.march),n,s,o;o=t-a;if(o>=0){if(o<=185){s=1+d(o,31);n=v(o,31)+1;return{jy:r,jm:s,jd:n}}else{o-=186}}else{r-=1;o+=179;if(i.leap===1)o+=1}s=7+d(o,30);n=v(o,30)+1;return{jy:r,jm:s,jd:n}}function f(t,e,r){var i=d((t+d(e-8,6)+100100)*1461,4)+d(153*v(e+9,12)+2,5)+r-34840408;i=i-d(d(t+100100+d(e-8,6),100)*3,4)+752;return i}function c(t){var e,r,i,a,n;e=4*t+139361631;e=e+d(d(4*t+183187720,146097)*3,4)*4-3908;r=d(v(e,1461),4)*5+308;i=d(v(r,153),5)+1;a=v(d(r,153),12)+1;n=d(e,1461)-100100+d(8-a,6);return{gy:n,gm:a,gd:i}}function d(t,e){return~~(t/e)}function v(t,e){return t-~~(t/e)*e}}}]);